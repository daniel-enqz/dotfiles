"use strict";exports.id=164,exports.ids=[164],exports.modules={7164:(ve,Pn,F)=>{F.r(Pn),F.d(Pn,{AppInsightsCore:()=>ne,BaseCore:()=>ie,BaseTelemetryPlugin:()=>In.i,CoreUtils:()=>p.Tr,DiagnosticLogger:()=>j.AQ,ESPromise:()=>en,ESPromiseScheduler:()=>ue,EventHelper:()=>dn.zB,EventLatency:()=>Dn,EventPersistence:()=>jn,EventPropertyType:()=>kn,EventsDiscardedReason:()=>ce.h,FullVersionString:()=>p.vs,InternalAppInsightsCore:()=>zn,InternalBaseCore:()=>gn,LoggingSeverity:()=>Bn,MinChannelPriorty:()=>se,NotificationManager:()=>Ln,PerfEvent:()=>G.zn,PerfManager:()=>G.Jk,ProcessTelemetryContext:()=>b.Vi,TraceLevel:()=>Rn,Undefined:()=>un.jA,Utils:()=>p.cQ,ValueKind:()=>Hn,ValueSanitizer:()=>le,Version:()=>p.Gf,_ExtendedInternalMessageId:()=>bn,_InternalLogMessage:()=>j.lQ,_InternalMessageId:()=>En,__getRegisteredEvents:()=>B.um,_throwInternal:()=>j.kP,addEventHandler:()=>B.Ib,addEventListeners:()=>B.yw,addPageHideEventListener:()=>B.TJ,addPageShowEventListener:()=>B.nD,addPageUnloadEventListener:()=>B.c9,areCookiesSupported:()=>nn.p7,arrForEach:()=>n.tO,arrIndexOf:()=>n.UA,arrMap:()=>n.Mr,arrReduce:()=>n.Xz,attachEvent:()=>B.pZ,cookieAvailable:()=>nn.p7,createCookieMgr:()=>nn.Nz,createEnumStyle:()=>J.By,createGuid:()=>p.cm,createProcessTelemetryContext:()=>b.CD,createTraceParent:()=>Q.SU,createUniqueNamespace:()=>Tn.J,createUnloadHandlerContainer:()=>An.Y,dateNow:()=>n.m6,deleteCookie:()=>p.kT,detachEvent:()=>B.pD,disableCookies:()=>p.oF,disallowsSameSiteNone:()=>nn.UY,doPerf:()=>G.Lm,dumpObj:()=>A.eU,eventOff:()=>B.QY,eventOn:()=>B.XO,extend:()=>p.l7,findW3cTraceParent:()=>Q.lq,formatTraceParent:()=>Q.aR,generateW3CId:()=>dn.DO,getCommonSchemaMetaData:()=>p.Vv,getConsole:()=>A.dr,getCookie:()=>p.ej,getCookieValue:()=>p.Do,getCrypto:()=>A.MX,getDocument:()=>A.Me,getExceptionName:()=>n.jj,getFieldValueType:()=>p.Sy,getGlobal:()=>sn.Rd,getGlobalInst:()=>A.a8,getHistory:()=>A.s1,getIEVersion:()=>A.sA,getISOString:()=>n.Y6,getJSON:()=>A.xA,getLocation:()=>A.k$,getMsCrypto:()=>A.gz,getNavigator:()=>A.jW,getPerformance:()=>A.r,getSetValue:()=>n.qK,getTenantId:()=>p.jM,getTime:()=>p.hK,getWindow:()=>A.Jj,hasDocument:()=>A.Nv,hasHistory:()=>A.fE,hasJSON:()=>A.nS,hasNavigator:()=>A.d6,hasOwnProperty:()=>n.nr,hasWindow:()=>A.Ym,isArray:()=>n.kJ,isArrayValid:()=>p.JT,isBeaconsSupported:()=>A.MF,isBoolean:()=>n.jn,isChromium:()=>p.mJ,isDate:()=>n.J_,isDocumentObjectAvailable:()=>p.x9,isError:()=>n.VZ,isFetchSupported:()=>A.JO,isFunction:()=>n.mf,isIE:()=>A.w1,isLatency:()=>p.r7,isNotTruthy:()=>n.F,isNullOrUndefined:()=>n.le,isNumber:()=>n.hj,isObject:()=>n.Kn,isReactNative:()=>A.b$,isSampledFlag:()=>Q.Pn,isString:()=>n.HD,isTruthy:()=>n.fQ,isTypeof:()=>n.Ym,isUint8ArrayAvailable:()=>p.IZ,isUndefined:()=>n.o8,isValidSpanId:()=>Q.Lc,isValidTraceId:()=>Q.jN,isValidTraceParent:()=>Q.J6,isValueAssigned:()=>p.Sn,isValueKind:()=>p.oS,isWindowObjectAvailable:()=>p.dH,isXhrSupported:()=>A.Z3,mergeEvtNamespace:()=>B.jU,newGuid:()=>dn.GW,newId:()=>Cn.pZ,normalizeJsName:()=>n.Gf,objCreate:()=>sn.pu,objDefineAccessors:()=>n.l_,objForEachKey:()=>n.rW,objFreeze:()=>n.FL,objKeys:()=>n.FY,objSeal:()=>n.Xi,openXhr:()=>p.ot,optimizeObject:()=>n.Ax,parseTraceParent:()=>Q.j_,perfNow:()=>dn.Jj,proxyAssign:()=>n.cf,proxyFunctionAs:()=>n.Oi,proxyFunctions:()=>n.Vb,random32:()=>Cn._l,randomValue:()=>Cn.az,removeEventHandler:()=>B.C1,removeEventListeners:()=>B.nJ,removePageHideEventListener:()=>B.C9,removePageShowEventListener:()=>B.Yl,removePageUnloadEventListener:()=>B.JA,safeGetCookieMgr:()=>nn.JP,safeGetLogger:()=>j.vH,sanitizeProperty:()=>p.yj,setCookie:()=>p.d8,setEnableEnvMocks:()=>A.dI,setProcessTelemetryTimings:()=>p.if,setValue:()=>n.sO,strContains:()=>n._Q,strEndsWith:()=>n.Id,strFunction:()=>un.cb,strObject:()=>un.fK,strPrototype:()=>un.hB,strStartsWith:()=>n.xe,strTrim:()=>n.nd,strUndefined:()=>un.jA,throwError:()=>n._y,toISOString:()=>n.Y6,useXDomainRequest:()=>A.cp});var K=F(7421),J=F(951),n=F(4869),Bn=(0,J.By)({CRITICAL:1,WARNING:2}),En=(0,J.By)({BrowserDoesNotSupportLocalStorage:0,BrowserCannotReadLocalStorage:1,BrowserCannotReadSessionStorage:2,BrowserCannotWriteLocalStorage:3,BrowserCannotWriteSessionStorage:4,BrowserFailedRemovalFromLocalStorage:5,BrowserFailedRemovalFromSessionStorage:6,CannotSendEmptyTelemetry:7,ClientPerformanceMathError:8,ErrorParsingAISessionCookie:9,ErrorPVCalc:10,ExceptionWhileLoggingError:11,FailedAddingTelemetryToBuffer:12,FailedMonitorAjaxAbort:13,FailedMonitorAjaxDur:14,FailedMonitorAjaxOpen:15,FailedMonitorAjaxRSC:16,FailedMonitorAjaxSend:17,FailedMonitorAjaxGetCorrelationHeader:18,FailedToAddHandlerForOnBeforeUnload:19,FailedToSendQueuedTelemetry:20,FailedToReportDataLoss:21,FlushFailed:22,MessageLimitPerPVExceeded:23,MissingRequiredFieldSpecification:24,NavigationTimingNotSupported:25,OnError:26,SessionRenewalDateIsZero:27,SenderNotInitialized:28,StartTrackEventFailed:29,StopTrackEventFailed:30,StartTrackFailed:31,StopTrackFailed:32,TelemetrySampledAndNotSent:33,TrackEventFailed:34,TrackExceptionFailed:35,TrackMetricFailed:36,TrackPVFailed:37,TrackPVFailedCalc:38,TrackTraceFailed:39,TransmissionFailed:40,FailedToSetStorageBuffer:41,FailedToRestoreStorageBuffer:42,InvalidBackendResponse:43,FailedToFixDepricatedValues:44,InvalidDurationValue:45,TelemetryEnvelopeInvalid:46,CreateEnvelopeError:47,CannotSerializeObject:48,CannotSerializeObjectNonSerializable:49,CircularReferenceDetected:50,ClearAuthContextFailed:51,ExceptionTruncated:52,IllegalCharsInName:53,ItemNotInArray:54,MaxAjaxPerPVExceeded:55,MessageTruncated:56,NameTooLong:57,SampleRateOutOfRange:58,SetAuthContextFailed:59,SetAuthContextFailedAccountName:60,StringValueTooLong:61,StartCalledMoreThanOnce:62,StopCalledWithoutStart:63,TelemetryInitializerFailed:64,TrackArgumentsNotSpecified:65,UrlTooLong:66,SessionStorageBufferFull:67,CannotAccessCookie:68,IdTooLong:69,InvalidEvent:70,FailedMonitorAjaxSetRequestHeader:71,SendBrowserInfoOnUserInit:72,PluginException:73,NotificationException:74,SnippetScriptLoadFailure:99,InvalidInstrumentationKey:100,CannotParseAiBlobValue:101,InvalidContentBlob:102,TrackPageActionEventFailed:103,FailedAddingCustomDefinedRequestContext:104,InMemoryStorageBufferFull:105,InstrumentationKeyDeprecation:106}),Hn=(0,J.By)({NotSet:0,Pii_DistinguishedName:1,Pii_GenericData:2,Pii_IPV4Address:3,Pii_IPv6Address:4,Pii_MailSubject:5,Pii_PhoneNumber:6,Pii_QueryString:7,Pii_SipAddress:8,Pii_SmtpAddress:9,Pii_Identity:10,Pii_Uri:11,Pii_Fqdn:12,Pii_IPV4AddressLegacy:13,CustomerContent_GenericContent:32}),Dn=(0,J.By)({Normal:1,CostDeferred:2,RealTime:3,Immediate:4}),kn=(0,J.By)({Unspecified:0,String:1,Int32:2,UInt32:3,Int64:4,UInt64:5,Double:6,Bool:7,Guid:8,DateTime:9}),jn=(0,J.By)({Normal:1,Critical:2}),Rn=(0,J.By)({NONE:0,ERROR:1,WARNING:2,INFORMATION:3}),bn=(0,n.FL)((0,K.uc)((0,K.uc)({},En),(0,J.By)({AuthHandShakeError:501,AuthRedirectFail:502,BrowserCannotReadLocalStorage:503,BrowserCannotWriteLocalStorage:504,BrowserDoesNotSupportLocalStorage:505,CannotParseBiBlobValue:506,CannotParseDataAttribute:507,CVPluginNotAvailable:508,DroppedEvent:509,ErrorParsingAISessionCookie:510,ErrorProvidedChannels:511,FailedToGetCookies:512,FailedToInitializeCorrelationVector:513,FailedToInitializeSDK:514,InvalidContentBlob:515,InvalidCorrelationValue:516,SessionRenewalDateIsZero:517,SendPostOnCompleteFailure:518,PostResponseHandler:519,SDKNotInitialized:520}))),j=F(9339),G=F(1782),A=F(9251),sn=F(175),X=F(9141),b=F(1030),Y=F(9031),nn=F(8140),pn=F(1733),Wn=F(8341),P=F(6335),cn=500,Jn="Channel has invalid priority - ";function yn(d,u,l,e){u&&(0,n.kJ)(u)&&u.length>0&&(u=u.sort(function(r,o){return r.priority-o.priority}),(0,n.tO)(u,function(r){r.priority<cn&&(0,n._y)(Jn+r.identifier)}),d.push({queue:(0,n.FL)(u),chain:(0,b.jV)(u,l,e)}))}function Zn(d,u){var l;function e(){return(0,b.CD)(null,u.config,u,null)}function r(i,s,t,g){var v=i?i.length+1:1;function T(){v--,v===0&&(g&&g(),g=null)}v>0&&(0,n.tO)(i,function(I){if(I&&I.queue.length>0){var V=I.chain,w=s.createNew(V);w.onComplete(T),t(w)}else v--}),T()}function o(i,s){var t=s||{reason:0};return r(d,i,function(g){g[P.Z_](t)},function(){i[P.Z_](t)}),!0}function f(i,s){var t=s||{reason:0,isAsync:!1};return r(d,i,function(g){g[P.Z_](t)},function(){i[P.Z_](t),m=!1}),!0}function h(i){var s=null;return d&&d.length>0&&(0,n.tO)(d,function(t){if(t&&t.queue.length>0&&((0,n.tO)(t.queue,function(g){if(g.identifier===i)return s=g,-1}),s))return-1}),s}var m=!1,S=(l={identifier:"ChannelControllerPlugin",priority:cn,initialize:function(i,s,t,g){m=!0,(0,n.tO)(d,function(v){v&&v.queue.length>0&&(0,Y.bP)((0,b.CD)(v.chain,i,s),t)})},isInitialized:function(){return m},processTelemetry:function(i,s){r(d,s||e(),function(t){t[P.Z_](i)},function(){s[P.Z_](i)})},update:o},l[P.nE]=function(){r(d,e(),function(i){i.iterate(function(s){s[P.nE]&&s[P.nE]()})},null)},l[P.Mf]=function(){r(d,e(),function(i){i.iterate(function(s){s[P.Mf]&&s[P.Mf]()})},null)},l[P.vE]=f,l.getChannel=h,l.flush=function(i,s,t,g){var v=1,T=!1,I=null;g=g||5e3;function V(){v--,T&&v===0&&(I&&(clearTimeout(I),I=null),s&&s(T),s=null)}return r(d,e(),function(w){w.iterate(function(D){if(D.flush){v++;var U=!1;D.flush(i,function(){U=!0,V()},t)||U||(i&&I==null?I=setTimeout(function(){I=null,V()},g):V())}})},function(){T=!0,V()}),!0},l._setQueue=function(i){d=i},l);return S}function Kn(d,u,l,e){var r=[];if(d&&(0,n.tO)(d,function(f){return yn(r,f,l,e)}),u){var o=[];(0,n.tO)(u,function(f){f.priority>cn&&o.push(f)}),yn(r,o,l,e)}return r}var In=F(7951),Gn=function(d){(0,K.ne)(u,d);function u(){var l=d.call(this)||this;l.identifier="TelemetryInitializerPlugin",l.priority=199;var e,r;o(),(0,X.Z)(u,l,function(f,h){f.addTelemetryInitializer=function(m){var S={id:e++,fn:m};r.push(S);var i={remove:function(){(0,n.tO)(r,function(s,t){if(s.id===S.id)return r.splice(t,1),-1})}};return i},f.processTelemetry=function(m,S){for(var i=!1,s=r.length,t=0;t<s;++t){var g=r[t];if(g)try{if(g.fn.apply(null,[m])===!1){i=!0;break}}catch(v){(0,j.kP)(S.diagLog(),1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+(0,n.jj)(v),{exception:(0,A.eU)(v)},!0)}}i||f.processNext(m,S)},f[P.Ho]=function(){o()}});function o(){e=0,r=[]}return l}return u}(In.i),Tn=F(7624),An=F(9896),Fn="Plugins must provide initialize method",Nn="_notificationManager",On="SDK is still unloading...",Xn="SDK is not initialized",Yn={loggingLevelConsole:1};function Qn(d,u){return new G.Jk(u)}function $n(d,u,l){var e=[],r={};return(0,n.tO)(l,function(o){((0,n.le)(o)||(0,n.le)(o.initialize))&&(0,n._y)(Fn);var f=o.priority,h=o.identifier;o&&f&&((0,n.le)(r[f])?r[f]=h:(0,j.jV)(d,"Two extensions have same priority #"+f+" - "+r[f]+", "+h)),(!f||f<u)&&e.push(o)}),{all:l,core:e}}function Mn(d,u){var l=!1;return(0,n.tO)(u,function(e){if(e===d)return l=!0,-1}),l}function qn(){var d;return(0,sn.pu)((d={},d[P.dV]=function(u){},d[P.XP]=function(u){},d[P.eO]=function(u){},d[P.H4]=function(u,l){},d[P.rX]=function(u,l){},d))}var gn=function(){function d(){var u,l,e,r,o,f,h,m,S,i,s,t,g,v,T,I,V,w,D,U=0;(0,X.Z)(d,this,function(c){W(),c.isInitialized=function(){return u},c.initialize=function(a,y,N,E){g&&(0,n._y)(On),c.isInitialized()&&(0,n._y)("Core should not be initialized more than once"),(!a||(0,n.le)(a.instrumentationKey))&&(0,n._y)("Please provide instrumentation key"),e=E,c[Nn]=E,c.config=a||{},R(a),ln(a),a.extensions=(0,n.le)(a.extensions)?[]:a.extensions,fe(a),N&&(c.logger=N),m=[],m.push.apply(m,(0,K.$h)((0,K.$h)([],y,!1),a.extensions,!1)),s=(a||{}).channels,C(a,null),(!t||t.length===0)&&(0,n._y)("No channels available"),u=!0,c.releaseQueue()},c.getTransmissionControls=function(){var a=[];return t&&(0,n.tO)(t,function(y){a.push(y.queue)}),(0,n.FL)(a)},c.track=function(a){(0,n.sO)(a,pn.z,c.config.instrumentationKey,null,n.F),(0,n.sO)(a,"time",(0,n.Y6)(new Date),null,n.F),(0,n.sO)(a,"ver","4.0",null,n.le),!g&&c.isInitialized()?rn().processNext(a):l.push(a)},c.getProcessTelContext=rn,c.getNotifyMgr=function(){return e||(e=qn(),c[Nn]=e),e},c[P.dV]=function(a){e&&e[P.dV](a)},c[P.XP]=function(a){e&&e[P.XP](a)},c.getCookieMgr=function(){return f||(f=(0,nn.Nz)(c.config,c.logger)),f},c.setCookieMgr=function(a){f=a},c.getPerfMgr=function(){return!r&&!o&&c.config&&c.config.enablePerfMgr&&(0,n.mf)(c.config.createPerfMgr)&&(o=c.config.createPerfMgr(c,c.getNotifyMgr())),r||o||(0,G.j5)()},c.setPerfMgr=function(a){r=a},c.eventCnt=function(){return l.length},c.releaseQueue=function(){if(u&&l.length>0){var a=l;l=[],(0,n.tO)(a,function(y){rn().processNext(y)})}},c.pollInternalLogs=function(a){T=a||null;var y=c.config.diagnosticLogInterval;return(!y||!(y>0))&&(y=1e4),U&&clearInterval(U),U=setInterval(function(){M()},y),U},c.stopPollingInternalLogs=function(){U&&(clearInterval(U),U=0,M())},(0,n.Vb)(c,function(){return v},["addTelemetryInitializer"]),c.unload=function(a,y,N){a===void 0&&(a=!0),u||(0,n._y)(Xn),g&&(0,n._y)(On);var E={reason:50,isAsync:a,flushComplete:!1},x=(0,b.Bt)(O(),c);x.onComplete(function(){W(),y&&y(E)},c);function k(Z){E.flushComplete=Z,g=!0,V.run(x,E),c.stopPollingInternalLogs(),x.processNext(E)}H(a,k,6,N)||k(!1)},c.getPlugin=z,c.addPlugin=function(a,y,N,E){if(!a){E&&E(!1),xn(Fn);return}var x=z(a.identifier);if(x&&!y){E&&E(!1),xn("Plugin ["+a.identifier+"] is already loaded!");return}var k={reason:16};function Z(vn){m.push(a),k.added=[a],C(c.config,k),E&&E(!0)}if(x){var $=[x.plugin],on={reason:2,isAsync:!!N};L($,on,function(vn){vn?(k.removed=$,k.reason|=32,Z(!0)):E&&E(!1)})}else Z(!1)},c.evtNamespace=function(){return I},c.flush=H,c.getTraceCtx=function(a){return D||(D=(0,Y.Yn)()),D},c.setTraceCtx=function(a){D=a||null},(0,n.Oi)(c,"addUnloadCb",function(){return V},"add");function W(){u=!1,c.config=(0,n.mm)(!0,{},Yn),c.logger=new j.AQ(c.config),c._extensions=[],v=new Gn,l=[],e=null,r=null,o=null,f=null,h=null,S=null,m=[],i=null,s=null,t=null,g=!1,T=null,I=(0,Tn.J)("AIBaseCore",!0),V=(0,An.Y)(),D=null}function rn(){return(0,b.CD)(O(),c.config,c)}function C(a,y){var N=$n(c.logger,cn,m);S=N.core,h=null;var E=N.all;if(t=(0,n.FL)(Kn(s,E,a,c)),i){var x=(0,n.UA)(E,i);x!==-1&&E.splice(x,1),x=(0,n.UA)(S,i),x!==-1&&S.splice(x,1),i._setQueue(t)}else i=Zn(t,c);E.push(i),S.push(i),c._extensions=(0,Y.AA)(E),i.initialize(a,c,E),(0,Y.bP)(rn(),E),c._extensions=(0,n.FL)((0,Y.AA)(S||[])).slice(),y&&de(y)}function z(a){var y=null,N=null;return(0,n.tO)(c._extensions,function(E){if(E.identifier===a&&E!==i&&E!==v)return N=E,-1}),!N&&i&&(N=i.getChannel(a)),N&&(y={plugin:N,setEnabled:function(E){(0,Y.OY)(N)[P.C0]=!E},isEnabled:function(){var E=(0,Y.OY)(N);return!E[P.vE]&&!E[P.C0]},remove:function(E,x){E===void 0&&(E=!0);var k=[N],Z={reason:1,isAsync:E};L(k,Z,function($){$&&C(c.config,{reason:32,removed:k}),x&&x($)})}}),y}function O(){if(!h){var a=(S||[]).slice();(0,n.UA)(a,v)===-1&&a.push(v),h=(0,b.jV)((0,Y.AA)(a),c.config,c)}return h}function L(a,y,N){if(a&&a.length>0){var E=(0,b.jV)(a,c.config,c),x=(0,b.Bt)(E,c);x.onComplete(function(){var k=!1,Z=[];(0,n.tO)(m,function(on,vn){Mn(on,a)?k=!0:Z.push(on)}),m=Z;var $=[];s&&((0,n.tO)(s,function(on,vn){var wn=[];(0,n.tO)(on,function(Un){Mn(Un,a)?k=!0:wn.push(Un)}),$.push(wn)}),s=$),N&&N(k)}),x.processNext(y)}else N(!1)}function M(){var a=c.logger?c.logger.queue:[];a&&((0,n.tO)(a,function(y){var N={name:T||"InternalMessageId: "+y.messageId,iKey:c.config.instrumentationKey,time:(0,n.Y6)(new Date),baseType:j.lQ.dataType,baseData:{message:y.message}};c.track(N)}),a.length=0)}function H(a,y,N,E){return i?i.flush(a,y,N||6,E):(y&&y(!1),!0)}function R(a){a.disableDbgExt===!0&&w&&(e[P.XP](w),w=null),e&&!w&&a.disableDbgExt!==!0&&(w=(0,Wn.p)(a),e[P.dV](w))}function ln(a){!a.enablePerfMgr&&o&&(o=null),a.enablePerfMgr&&(0,n.sO)(c.config,"createPerfMgr",Qn)}function fe(a){var y=(0,n.qK)(a,pn.F);y.NotificationManager=e}function de(a){var y=(0,b.xy)(O(),c);(!c._updateHook||c._updateHook(y,a)!==!0)&&y.processNext(a)}function xn(a){var y=c.logger;y?(0,j.kP)(y,2,73,a):(0,n._y)(a)}})}return d}();function fn(d,u,l,e){(0,n.tO)(d,function(r){if(r&&r[u])if(l)setTimeout(function(){return e(r)},0);else try{e(r)}catch(o){}})}var Ln=function(){function d(u){this.listeners=[];var l=!!(u||{}).perfEvtsSendAll;(0,X.Z)(d,this,function(e){e[P.dV]=function(r){e.listeners.push(r)},e[P.XP]=function(r){for(var o=(0,n.UA)(e.listeners,r);o>-1;)e.listeners.splice(o,1),o=(0,n.UA)(e.listeners,r)},e[P.eO]=function(r){fn(e.listeners,P.eO,!0,function(o){o[P.eO](r)})},e[P.H4]=function(r,o){fn(e.listeners,P.H4,!0,function(f){f[P.H4](r,o)})},e[P.rX]=function(r,o){fn(e.listeners,P.rX,o,function(f){f[P.rX](r,o)})},e[P.SN]=function(r){r&&(l||!r.isChildEvt())&&fn(e.listeners,P.SN,!1,function(o){r.isAsync?setTimeout(function(){return o[P.SN](r)},0):o[P.SN](r)})}})}return d}(),zn=function(d){(0,K.ne)(u,d);function u(){var l=d.call(this)||this;return(0,X.Z)(u,l,function(e,r){e.initialize=function(h,m,S,i){r.initialize(h,m,S||new j.AQ(h),i||new Ln(h))},e.track=function(h){(0,G.Lm)(e.getPerfMgr(),function(){return"AppInsightsCore:track"},function(){h===null&&(f(h),(0,n._y)("Invalid telemetry item")),o(h),r.track(h)},function(){return{item:h}},!h.sync)};function o(h){(0,n.le)(h.name)&&(f(h),(0,n._y)("telemetry name required"))}function f(h){var m=e.getNotifyMgr();m&&m.eventsDiscarded([h],2)}}),l}return u}(gn),p=F(5705),hn="version",mn="properties",_n=function(d){(0,K.ne)(u,d);function u(){var l=d.call(this)||this;return l.pluginVersionStringArr=[],l.pluginVersionString="",(0,X.Z)(u,l,function(e,r){(!e.logger||!e.logger.queue)&&(e.logger=new j.AQ({loggingLevelConsole:1})),e.initialize=function(o,f,h,m){(0,G.Lm)(e,function(){return"AppInsightsCore.initialize"},function(){if(o){o.endpointUrl||(o.endpointUrl="https://browser.events.data.microsoft.com/OneCollector/1.0/");var S=o.propertyStorageOverride;if(S&&(!S.getProperty||!S.setProperty))throw new Error("Invalid property storage override passed.");o.channels&&(0,n.tO)(o.channels,function(t){t&&(0,n.tO)(t,function(g){if(g.identifier&&g.version){var v=g.identifier+"="+g.version;e.pluginVersionStringArr.push(v)}})})}e.getWParam=function(){return typeof document!="undefined"?0:-1},f&&(0,n.tO)(f,function(t){if(t&&t.identifier&&t.version){var g=t.identifier+"="+t.version;e.pluginVersionStringArr.push(g)}}),e.pluginVersionString=e.pluginVersionStringArr.join(";");try{r.initialize(o,f,h,m),e.pollInternalLogs("InternalLog")}catch(t){var i=e.logger,s=(0,A.eU)(t);s.indexOf("channels")!==-1&&(s+=`
 - Channels must be provided through config.channels only!`),i.throwInternal(1,514,"SDK Initialization Failed - no telemetry will be sent: "+s)}},function(){return{config:o,extensions:f,logger:h,notificationManager:m}})},e.track=function(o){(0,G.Lm)(e,function(){return"AppInsightsCore.track"},function(){var f=o;if(f){f.timings=f.timings||{},f.timings.trackStart=(0,p.hK)(),(0,p.r7)(f.latency)||(f.latency=1);var h=f.ext=f.ext||{};h.sdk=h.sdk||{},h.sdk.ver=p.vs;var m=f.baseData=f.baseData||{};m[mn]||(m[mn]={});var S=m[mn];S[hn]||(S[hn]=""),e.pluginVersionString!==""&&(S[hn]=e.pluginVersionString)}r.track(f)},function(){return{item:o}},!o.sync)}}),l}return u}(zn);const ne=_n;var ee=function(d){(0,K.ne)(u,d);function u(){var l=d.call(this)||this;return(0,X.Z)(u,l,function(e,r){e.initialize=function(o,f,h,m){o&&!o.endpointUrl&&(o.endpointUrl="https://browser.events.data.microsoft.com/OneCollector/1.0/"),e.getWParam=function(){return p.x9?0:-1};try{r.initialize(o,f,h,m)}catch(S){(0,j.kP)(e.logger,1,514,"Initialization Failed: "+(0,A.eU)(S)+`
 - Note: Channels must be provided through config.channels only`)}},e.track=function(o){var f=o;if(f){var h=f.ext=f.ext||{};h.sdk=h.sdk||{},h.sdk.ver=p.vs}r.track(f)}}),l}return u}(gn);const ie=ee;var q=n.mf;function te(d,u,l){return function(e){d[u]=e,l()}}var re=function(){function d(u){var l=0,e=null,r=[];(0,X.Z)(d,this,function(S){S.then=function(i,s){return new d(function(t,g){o(i,s,t,g)})},S.catch=function(i){return S.then(null,i)}});function o(S,i,s,t){r.push(function(){var g;try{l===1?g=q(S)?S(e):e:g=q(i)?i(e):e,g instanceof d?g.then(s,t):l===2&&!q(i)?t(g):s(g)}catch(v){t(v);return}}),l!==0&&f()}function f(){if(r.length>0){var S=r.slice();r=[],setTimeout(function(){for(var i=0,s=S.length;i<s;++i)try{S[i]()}catch(t){}},0)}}function h(S){l===0&&(e=S,l=1,f())}function m(S){l===0&&(e=S,l=2,f())}(function(){if(!q(u))throw new TypeError("ESPromise: resolvedFunc argument is not a Function");try{u(h,m)}catch(i){m(i)}})()}return d.resolve=function(u){return u instanceof d?u:u&&q(u.then)?new d(function(l,e){try{u.then(l,e)}catch(r){e(r)}}):new d(function(l){l(u)})},d.reject=function(u){return new d(function(l,e){e(u)})},d.all=function(u){if(!(!u||!u.length))return new d(function(l,e){try{for(var r=[],o=0,f=0;f<u.length;f++){var h=u[f];h&&q(h.then)?(o++,h.then(te(r,f,function(){--o==0&&l(r)}),e)):r[f]=h}o===0&&setTimeout(function(){l(r)},0)}catch(m){e(m)}})},d.race=function(u){return new d(function(l,e){if(!(!u||!u.length))try{for(var r=function(f){var h=u[f];h&&q(h.then)?h.then(l,e):setTimeout(function(){l(h)},0)},o=0;o<u.length;o++)r(o)}catch(f){e(f)}})},d}();const en=re;var oe=6e5,Vn=0,an=[],_=[],Sn=[];function tn(){return new Date().getTime()}var ae=function(){function d(u,l){var e=0,r=(u||"<unnamed>")+"."+Vn;Vn++,(0,X.Z)(d,this,function(h){var m=null,S=0;h.scheduleEvent=function(s,t,g){var v=r+"."+S;S++,t&&(v+="-("+t+")");var T=v+"{"+e+"}";e++;var I={evt:null,tm:tn(),id:T,isRunning:!1,isAborted:!1};return m?I.evt=rn(I,m):I.evt=W(I),m=I,m.evt._schId=T,I.evt;function V(C){for(var z=tn(),O=z-oe,L=C.length,M=0;M<L;){var H=C[M];if(H&&H.tm<O){var R=null;H.abort?(R="Aborting ["+H.id+"] due to Excessive runtime ("+(z-H.tm)+" ms)",H.abort(R)):R="Removing ["+H.id+"] due to Excessive runtime ("+(z-H.tm)+" ms)",f(R),C.splice(M,1),L--}else M++}}function w(C,z){var O=!1,L=i(an,C);if(L||(L=i(Sn,C),O=!0),L){L.to&&(clearTimeout(L.to),L.to=null);var M=tn()-L.tm;z?O?f("Timed out event ["+C+"] finally complete -- "+M+" ms"):o("Promise ["+C+"] Complete -- "+M+" ms"):(Sn.push(L),f("Event ["+C+"] Timed out and removed -- "+M+" ms"))}else o("Failed to remove ["+C+"] from running queue");m&&m.id===C&&(m=null),V(an),V(_),V(Sn)}function D(C,z){return function(O){return w(C,!0),z&&z(O),O}}function U(C,z,O,L){z.then(function(M){return M instanceof en?(o("Event ["+C+"] returned a promise -- waiting"),U(C,M,O,L),M):D(C,O)(M)},D(C,L))}function c(C,z){var O=C.id;return new en(function(L,M){o("Event ["+O+"] Starting -- waited for "+(C.wTm||"--")+" ms"),C.isRunning=!0,C.abort=function(R){C.abort=null,C.isAborted=!0,w(O,!1),M(new Error(R))};var H=z(O);H instanceof en?(g&&(C.to=setTimeout(function(){w(O,!1),M(new Error("Timed out after ["+g+"] ms"))},g)),U(O,H,function(R){o("Event ["+O+"] Resolving after "+(tn()-C.tm)+" ms"),L(R)},M)):(o("Promise ["+O+"] Auto completed as the start action did not return a promise"),L())})}function W(C){var z=tn();return C.wTm=z-C.tm,C.tm=z,C.isAborted?en.reject(new Error("["+v+"] was aborted")):(an.push(C),c(C,s))}function rn(C,z){var O=new en(function(L,M){var H=tn()-z.tm,R=z.id;o("["+v+"] is waiting for ["+R+":"+H+" ms] to complete before starting -- ["+_.length+"] waiting and ["+an.length+"] running"),C.abort=function(ln){C.abort=null,i(_,v),C.isAborted=!0,M(new Error(ln))},z.evt.then(function(ln){i(_,v),W(C).then(L,M)},function(ln){i(_,v),W(C).then(L,M)})});return _.push(C),O}};function i(s,t){for(var g=0;g<s.length;g++)if(s[g].id===t)return s.splice(g,1)[0];return null}});function o(h){var m=(0,sn.Rd)();m&&m.QUnit&&console&&console.log("ESPromiseScheduler["+r+"] "+h)}function f(h){l&&l.warnToConsole("ESPromiseScheduler["+r+"] "+h)}}return d.incomplete=function(){return an},d.waitingToStart=function(){return _},d}();const ue=ae;var le=function(){function d(u){var l=this,e={},r=[],o=[];u&&o.push(u);function f(i,s){var t,g=e[i];if(g&&(t=g[s]),!t&&t!==null){if((0,n.HD)(i)&&(0,n.HD)(s))if(o.length>0){for(var v=0;v<o.length;v++)if(o[v].handleField(i,s)){t={canHandle:!0,fieldHandler:o[v]};break}}else r.length===0&&(t={canHandle:!0});if(!t&&t!==null){t=null;for(var v=0;v<r.length;v++)if(r[v].handleField(i,s)){t={canHandle:!0,handler:r[v],fieldHandler:null};break}}g||(g=e[i]={}),g[s]=t}return t}l.addSanitizer=function(i){i&&(r.push(i),e={})},l.addFieldSanitizer=function(i){i&&(o.push(i),e={})},l.handleField=function(i,s){var t=f(i,s);return t?t.canHandle:!1},l.value=function(i,s,t,g){var v=f(i,s);if(v&&v.canHandle){if(!v||!v.canHandle)return null;if(v.handler)return v.handler.value(i,s,t,g);if(!(0,n.HD)(s)||(0,n.le)(t)||t==="")return null;var T=null,I=(0,p.Sy)(t);if((I&8192)==8192){var V=I&~8192;if(T=t,!(0,p.Sn)(T.value)||V!==1&&V!==2&&V!==3&&(V&4096)!=4096)return null}else I===1||I===2||I===3||(I&4096)==4096?T=m(i,s,t):I===4&&(T=m(i,s,g?JSON.stringify(t):t));if(T)return h(v,i,s,I,T,g)}return null},l.property=function(i,s,t,g){var v=f(i,s);if(!v||!v.canHandle||!(0,n.HD)(s)||(0,n.le)(t)||!(0,p.Sn)(t.value))return null;var T=(0,p.Sy)(t.value);return T===0?null:h(v,i,s,T,t,g)};function h(i,s,t,g,v,T){if(i.handler)return i.handler.property(s,t,v,T);if(!(0,n.le)(v.kind)){if((g&4096)==4096||!(0,p.oS)(v.kind))return null;v.value=v.value.toString()}return S(i.fieldHandler,s,t,g,v)}function m(i,s,t){return(0,p.Sn)(t)?{value:t}:null}function S(i,s,t,g,v){if(v&&i){var T=i.getSanitizer(s,t,g,v.kind,v.propertyType);if(T)if(g===4){var I={},V=v.value;(0,n.rW)(V,function(D,U){var c=s+"."+t;if((0,p.Sn)(U)){var W=m(c,D,U);W=S(i,c,D,(0,p.Sy)(U),W),W&&(I[D]=W.value)}}),v.value=I}else{var w={path:s,name:t,type:g,prop:v,sanitizer:l};v=T.call(l,w)}}return v}}return d.getFieldType=p.Sy,d}(),se=100,ce=F(8452),dn=F(8956),B=F(7954),Cn=F(9406),un=F(1550),Q=F(6207)}};
